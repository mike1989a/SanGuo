require=function t(e,a,n){function i(s,c){if(!a[s]){if(!e[s]){var r="function"==typeof require&&require;if(!c&&r)return r(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=a[s]={exports:{}};e[s][0].call(l.exports,function(t){var a=e[s][1][t];return i(a?a:t)},l,l.exports,t,e,a,n)}return a[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({ActionHelper:[function(t,e,a){"use strict";cc._RFpush(e,"8c23bt/1nFOJZ1FQQh6jGt2","ActionHelper");var n=cc.Class({createLoopAction:function(t,e){return t<0?cc.repeatForever(e):cc.repeat(e,t)},createScaleAction:function(t,e,a,n,i){var o=cc.scaleTo(t,e,a),s=cc.scaleTo(t,n,i),c=cc.sequence(o,s);return c},createMoveAction:function(t,e,a){var n=cc.moveTo(t,cc.p(e,a)),i=cc.moveTo(t,cc.p(0,0)),o=cc.moveTo(t,cc.p(-e,-a)),s=cc.sequence(n,i,o,i);return s},createRotateAction:function(t,e,a){var n=cc.rotateTo(t,e,a),i=cc.rotateTo(t,0,0),o=cc.rotateTo(t,-e,-a),s=cc.sequence(n,i,o,i);return s}});e.exports=n,cc._RFpop()},{}],BattleBubble:[function(t,e,a){"use strict";cc._RFpush(e,"4ac17NQDRJO+ocJg/JPIq9G","BattleBubble"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RFpop()},{}],BattleBuffManager:[function(t,e,a){"use strict";cc._RFpush(e,"14046lHZphFIbirvkDt7VyO","BattleBuffManager"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},initData:function(t){this.mainCompant=t,this.buffStatusArray=[]},addBuff:function(t){var e=window.csv.get("status_csv",t),a=e.get("type"),n=e.get("time")/1e3,i=e.get("max_time")/1e3,o=e.get("interval")/1e3,s=e.get("value"),c=e.get("percentage")/1e4,r=null;r=this.getBuffByType(a),r||(r={},this.buffStatusArray.push(r)),r.cfgStatus=e,r.isActive=!0,r.buff_id=t,r.type=a,r.time=n,r.max_time=i,r.interval=o,r.interval_cd=o,r.changeValue=s,r.changePercentage=c},getBuffByType:function(t){for(var e in this.buffStatusArray){var a=this.buffStatusArray[e];if(a.type===t)return a}return null},checkBuff:function(){},effectBuff:function(t){this.mainCompant.effectBuff(t)},endBuff:function(t){t.isActive=!1},update:function(t){for(var e in this.buffStatusArray){var a=this.buffStatusArray[e];a.isActive&&(a.interval_cd-=t,a.interval_cd<=0&&(this.effectBuff(a),a.interval_cd=a.interval),a.time>0&&(a.time-=t,a.time<0&&this.endBuff(a)))}}}),cc._RFpop()},{}],BattleChild:[function(t,e,a){"use strict";cc._RFpush(e,"15a23PAs8xIMq/sZbOSVLGo","BattleChild");var n=t("BattleUnitBase");cc.Class({"extends":n,properties:{},onLoad:function(){var t=[3001,3011,3021],e=Math.floor(3*Math.random()),a=t[e];this.initInfo(a)},initInfo:function(t){var e=window.csv.get("soldier_csv",t),a=window.csv.get("monster_csv",e.get("monster_id")),n=a.get("speed"),i=e.get("need_commander"),o=0,s=a.get("warning_range"),c=0,r=0,d=0,l=window.types.BattleUnitTypes.Child;this.initData(a,l,n,d,c,r,s,o),this.data.cfgSoldier=e,this.data.needCommander=i,this.initBuffManager(),this.initMoveManager(),this.initSkillManager(),this.initContactManager(),this.initRender();var _=this.getOwner();_&&this.setParent(_)},attack:function(){this._super()},dead:function(){var t=this.getOwner().getComponent("BattlePlayer");t.updateCommander(-this.data.needCommander),t.removeChildUnit(this.node)},effectContact:function(t){var e=this.data.needCommander;t.getComponent("BattlePlayer").checkCommander(e)&&(t.getChildByName("BattleBubble").getComponent(cc.Animation).play("Bubble"),this.setParent(t))},initMoveManager:function(){this.getComponent("BattleMoveManager").initData(this,this.data.speed,window.types.BattleMoveStatus.Stop,!1,null,cc.p(0,0)),this.getComponent("BattleMoveManager").setIsAutoRandomMove(!1)},initContactManager:function(){this.getComponent("BattleContactManager").initData(window.types.BattleContactTypes.Player,this,!0)},setParent:function(t){this._super(t),this.initBattleData(),cc.log("setParent....")},initBattleData:function(){if(this.getOwner()){var t=this.getOwner().getComponent("BattleUnitDataManager"),e=this.data.cfgSoldier.get("per_output")/1e4,a=this.data.cfgSoldier.get("per_attack")/1e4,n=this.data.cfgSoldier.get("per_defense")/1e4,i=t.battleData.hp*e,o=t.battleData.attack*a,s=t.battleData.defence*n;this.data.maxHp=i,this.data.curHp=i,this.data.attack=o,this.data.defence=s;var c=this.data.warnningRange,r=(this.data.speed,this.data.cfgMonster),d=this.data.unitType;this.getComponent("BattleUnitDataManager").initData(r,i,o,s,c,d,this,!0)}}}),cc._RFpop()},{BattleUnitBase:"BattleUnitBase"}],BattleContactManager:[function(t,e,a){"use strict";cc._RFpush(e,"e992bC+X65KHb9odAhRtfxn","BattleContactManager");cc.Class({"extends":cc.Component,properties:{contactRange:0},onLoad:function(){},initData:function(t,e,a){this.contactType=t,this.isActive=a,this.mainComponent=e},_checkIsContactPlayer:function(){for(var t in window.battleMain.getComponent("BattleMain").battleUnitArray){var e=window.battleMain.getComponent("BattleMain").battleUnitArray[t];if(e!==this.node){var a=e.getComponent("BattleUnitDataManager"),n=a.unitType;if(!(this.contactType===window.types.BattleContactTypes.Player&&n!=window.types.BattleUnitTypes.Player||this.contactType===window.types.BattleContactTypes.Child&&n!=window.types.BattleUnitTypes.Child||this.contactType===window.types.BattleContactTypes.All&&n!=window.types.BattleUnitTypes.Child&&n!=window.types.BattleUnitTypes.Player)){var i=(a.GroupIndex,a.isActive);this.getComponent("BattleUnitDataManager").GroupIndex;if(i){var o=e.getPosition(),s=cc.pDistance(this.node.getPosition(),o);if(s<this.contactRange)return e}}}}return null},update:function(){if(this.isActive){var t=this._checkIsContactPlayer();t&&this.mainComponent.effectContact(t)}}}),cc._RFpop()},{}],BattleCtrl:[function(t,e,a){"use strict";cc._RFpush(e,"646f9cCEZtJ/LJwFgWnoMwW","BattleCtrl"),cc.Class({"extends":cc.Component,properties:{ButtonSpeed:{"default":null,type:cc.Node}},onBtnSpeedClicked:function(){var t=this.ButtonSpeed.getChildByName("label_title"),e=window.battleMain.player;e.getComponent("BattlePlayer").groupTypeIsFree?(e.getComponent("BattlePlayer").setIsGroupFree(!1),t.getComponent(cc.Label).string="分散"):(e.getComponent("BattlePlayer").setIsGroupFree(!0),t.getComponent(cc.Label).string="集合")},onLoad:function(){}}),cc._RFpop()},{}],BattleDrop:[function(t,e,a){"use strict";cc._RFpush(e,"43dcfsBUKNBBZUFF8J1sulB","BattleDrop");var n=null,i=null;cc.Class({"extends":cc.Component,properties:{},initBattleData:function(){var t=0,e=0,a=0,o=0,s=i.get("monster_csv",101);this.getComponent("BattleUnitDataManager").initData(s,t,e,a,o,n.BattleUnitTypes.Drop,this,!1),this.getComponent("BattleContactManager").initData(n.BattleContactTypes.Player,this,!0)},initData:function(t){n=window.types,i=window.csv;var e=window.csv.get("dropobject_csv",t);this.cfgDropobject=e,this.effectArray=[];var a=e.get("type1"),o=e.get("parameter1");if(a!=n.DropEffectTypes.None){var s={};s.type=a,s.parameter=o,this.effectArray.push(s)}var c=e.get("type2"),r=e.get("parameter2");if(c!=n.DropEffectTypes.None){var s={};s.type=c,s.parameter=r,this.effectArray.push(s)}var d=this;cc.loader.loadRes("battle/mercenary",cc.SpriteAtlas,function(t,a){var n=a.getSpriteFrame(e.image),i=d.node.getChildByName("sprite");i.getComponent(cc.Sprite).spriteFrame=n}),this.initBattleData()},onLoad:function(){var t=1920-this.node.getPosition().y;this.node.setLocalZOrder(t)},dead:function(){},effectContact:function(t){this.getComponent("BattleUnitDataManager").isDead=!0,this.getComponent("BattleContactManager").isActive=!1;var e=(t.getComponent("BattleUnitDataManager").unitType,t.getComponent("BattleUnitDataManager").owner);for(var a in this.effectArray){var n=this.effectArray[a],i=t;e&&(i=e),this.deadEffect(i,n)}},deadEffect:function(t,e){e.type===n.DropEffectTypes.Buff?cc.log("buff....",e.parameter):e.type===n.DropEffectTypes.Money&&cc.log("money....",e.parameter)}}),cc._RFpop()},{}],BattleGeneral:[function(t,e,a){"use strict";cc._RFpush(e,"faf33fregBPw7GKskD2OhYM","BattleGeneral");var n=t("BattleUnitBase");cc.Class({"extends":n,properties:{HpBar:cc.Node,GeneralID:2001},onLoad:function(){this.initInfo(this.GeneralID)},initInfo:function(t){var e=window.csv.get("general_csv",t),a=window.csv.get("monster_csv",e.get("monster_id")),n=a.get("speed"),i=e.get("need_commander"),o=0,s=a.get("warning_range"),c=e.get("attack"),r=e.get("defense"),d=e.get("output"),l=window.types.BattleUnitTypes.General;this.initData(a,l,n,d,c,r,s,o),this.data.cfgGeneral=e,this.data.needCommander=i,this.initBattleData(),this.initBuffManager(),this.initMoveManager(),this.initSkillManager(),this.initContactManager(),this.initRender();var _=this.getOwner();_&&this.setParent(_)},initMoveManager:function(){this.getComponent("BattleMoveManager").initData(this,this.data.speed,window.types.BattleMoveStatus.Free,!1,null,cc.p(0,0));var t=this.getOwner();t?this.getComponent("BattleMoveManager").setIsAutoRandomMove(!1):this.getComponent("BattleMoveManager").setIsAutoRandomMove(!0)},changeHp:function(t){var e=this.HpBar,a=this.data.curHp;a+=t,a>=this.data.maxHp?(a=this.data.maxHp,e.active=!1):a<0?a=0:e.active=!0,this.data.curHp=a;var n=e.getComponent(cc.ProgressBar),i=this.data.curHp/this.data.maxHp;n.progress=i},dead:function(){var t=this.getOwner();t&&(t.getComponent("BattlePlayer").updateCommander(-this.data.needCommander),t.getComponent("BattlePlayer").removeChildUnit(this.node))},findEnemy:function(t){if(this.isPlayer){var e=this.getOwner();e||this.getComponent("BattleMoveManager").changeMoveStatus(window.types.BattleMoveStatus.FoloowGroup),this.getComponent("BattleMoveManager").changeFoloowTarget(t)}},outOfEnemy:function(){if(this.isPlayer){var t=this.getOwner();t?(t.getComponent("BattlePlayer").groupTypeIsFree?this.getComponent("BattleMoveManager").changeMoveStatus(window.types.BattleMoveStatus.FoloowFree):this.getComponent("BattleMoveManager").changeMoveStatus(window.types.BattleMoveStatus.FoloowGroup),this.getComponent("BattleMoveManager").changeFoloowTarget(t)):(this.getComponent("BattleMoveManager").changeMoveStatus(window.types.BattleMoveStatus.Free),this.getComponent("BattleMoveManager").changeFoloowTarget(null))}}}),cc._RFpop()},{BattleUnitBase:"BattleUnitBase"}],BattleHouse:[function(t,e,a){"use strict";cc._RFpush(e,"16bd5sWgzZBM5ImXoeyuFsP","BattleHouse");var n=t("BattleUnitBase");cc.Class({"extends":n,properties:{house_id:4001,house_level:1},onLoad:function(){this.initInfo(this.house_id,this.house_level),this.updateCommander(0)},initInfo:function(t,e){var a=window.csv.get("house_csv",t,e),n=a.get("output"),i=0,o=a.get("defense"),s=0,c=0,r=window.types.BattleUnitTypes.House,d=0,l=window.csv.get("monster_csv",a.get("monster_id"));this.initData(l,r,c,n,i,o,s,d),this.data.cfgHouse=a,this.initBattleData(),this.initBuffManager(),this.initMoveManager(),this.initSkillManager(),this.initContactManager(),this.initRender(),this.isBarrier=!0},isContact:function(t){},changeHp:function(t){var e=this.node.getChildByName("hp_bar"),a=this.data.curHp;a+=t,a>=this.data.maxHp?(a=this.data.maxHp,e.active=!1):a<0?a=0:e.active=!0,this.data.curHp=a;var n=e.getComponent(cc.ProgressBar),i=this.data.curHp/this.data.maxHp;n.progress=i,this.hurt()},initRender:function(){this._super();var t=this.getRenderNode(),e=t.getComponent(cc.Animation);e||(e=t.addComponent(cc.Animation)),cc.loader.loadRes("clip/house_hurt",cc.AnimationClip,function(t,a){e.addClip(a,"hurt")})},hurt:function(){this.changeAction("hurt",0,!0)}}),cc._RFpop()},{BattleUnitBase:"BattleUnitBase"}],BattleMain:[function(t,e,a){"use strict";cc._RFpush(e,"1ad8csx97hGG6zI+Fde/aeO","BattleMain");var n=null;cc.Class({"extends":cc.Component,properties:{ChildPrefab:cc.Prefab,GeneralPrefab:cc.Prefab,DropPrefab:cc.Prefab,EffectPrefab:cc.Prefab,DamagePrefab:cc.Prefab,HouseHurEffectPrefab:cc.Prefab,WarnningNodePrefab:cc.Prefab,player:{"default":null,type:cc.Node},bgmClip:{"default":null,url:cc.AudioClip},battleUnitArray:{"default":[],type:[cc.Node]},width:0,height:0},onLoad:function(){n=window.types,window.battleMain=this,this.isGameOver=!1,this.effectPool=new cc.NodePool;for(var t=10,e=0;e<t;++e){var a=cc.instantiate(this.EffectPrefab);this.effectPool.put(a)}t=5,this.battleDamageNumPool=new cc.NodePool;for(var e=0;e<t;++e){var a=cc.instantiate(this.DamagePrefab);this.battleDamageNumPool.put(a)}this.talkPopPool=new cc.NodePool;for(var e=0;e<t;++e){var a=cc.instantiate(this.DamagePrefab);this.talkPopPool.put(a)}this.houseHurEffectPool=new cc.NodePool;for(var e=0;e<t;++e){var a=cc.instantiate(this.HouseHurEffectPrefab);this.houseHurEffectPool.put(a)}this.warnningNodePool=new cc.NodePool;for(var e=0;e<t;++e){var a=cc.instantiate(this.WarnningNodePrefab);this.warnningNodePool.put(a)}var i=cc.delayTime(.5),o=cc.callFunc(this.initAction,this);this.node.runAction(cc.sequence(i,o))},initAction:function(){for(var t=15,e=0;e<t;++e){var a=this.createNewChild(this.player);a.setPosition(this.player.getPosition())}var n=this.createGeneral(this.player,2001);n.getComponent("BattleGeneral").HpBar=this.node.getChildByName("battle_info_top_layout").getChildByName("icon_2").getChildByName("hp_bar"),n.setPosition(this.player.getPosition()),n=this.createGeneral(this.player,2031),n.getComponent("BattleGeneral").HpBar=this.node.getChildByName("battle_info_top_layout").getChildByName("icon_3").getChildByName("hp_bar"),n.setPosition(this.player.getPosition()),n=this.createGeneral(this.player,2041),n.getComponent("BattleGeneral").HpBar=this.node.getChildByName("battle_info_top_layout").getChildByName("icon_4").getChildByName("hp_bar"),n.setPosition(this.player.getPosition())},createWarnningNode:function(t,e,a,n,i){var o=null,s=this.node.getChildByName("background");this.warnningNodePool.size()>0?o=this.warnningNodePool.get():(o=cc.instantiate(this.WarnningNodePrefab),this.warnningNodePool.put(o)),o.setPosition(e),o.parent=s,o.getComponent(cc.Graphics).clear(),o.getComponent("WarnningNode").setTime(t),o.getComponent("WarnningNode").poolManager=this.warnningNodePool,o.zIndex=0,o.getComponent("WarnningNode").arc(a,n,i)},skillEffect:function(t,e,a,n){var i=e.getPosition(),o=cc.p(0,0),s=n.get("fire_pos_type"),c=cc.p(0,0),r=null;window.types.AttackPosType.Self===s?r=t:window.types.AttackPosType.Target===s&&(r=e),o=cc.pAdd(r.getPosition(),c),this.createAttackEffect(o,n.get("fire_effect"),r.getComponent("BattleUnitDataManager").getMainComponent().dirction);var d=cc.p(0,0),l=e.getBoundingBox();this.node.getChildByName("background");l.x-=l.width/2;var _=250,p=_-_*cc.random0To1()*.1;d.y=i.y+p,d.x=l.x+cc.random0To1()*l.width,this.createDamageLabel(d,a),d=cc.p(0,0),p=_-_*cc.random0To1()*.8,d.y=i.y+p,d.x=l.x+cc.random0To1()*l.width;var h=n.get("fire_say");if(""!=h){var u=h.split("#"),g=window.math.getRandom(0,u.length-1);this.createAttackTalk(d,u[g])}},createDamageLabel:function(t,e){var a=null,n=this.node.getChildByName("background");this.battleDamageNumPool.size()>0&&(a=this.battleDamageNumPool.get()),a&&(a.getComponent("BattlePopTalk").init(e,"BattleDamagePop",!1),a.getComponent("BattlePopTalk").poolManager=this.battleDamageNumPool,a.parent=n,a.zIndex=9999,a.setPosition(t))},createAttackTalk:function(t,e){var a=null,n=this.node.getChildByName("background");this.talkPopPool.size()>0&&(a=this.talkPopPool.get()),a&&(a.getComponent("BattlePopTalk").init(e,"BattleTalkPop",!0),a.getComponent("BattlePopTalk").poolManager=this.talkPopPool,a.parent=n,a.zIndex=9999,a.setPosition(t))},createHouseHurtEffect:function(t){var e=null,a=this.node.getChildByName("background");this.houseHurEffectPool.size()>0&&(e=this.houseHurEffectPool.get()),e&&(e.getComponent("HouseHurtEffect").init(),e.getComponent("HouseHurtEffect").poolManager=this.houseHurEffectPool,e.zIndex=9999,e.parent=a,e.setPosition(t))},createAttackEffect:function(t,e,a){var n=null,i=t;this.effectPool.size()>0?n=this.effectPool.get():(n=cc.instantiate(this.EffectPrefab),this.effectPool.put(n)),n.zIndex=9999,n.setPosition(i),n.getComponent("Effect").playAnimation(e),n.getComponent("Effect").poolManager=this.effectPool;var o=this.node.getChildByName("background");n.parent=o,a===window.types.BattleUnitDirection.Left?n.scaleX>0&&(n.scaleX=-n.scaleX):a===window.types.BattleUnitDirection.Right&&n.scaleX<0&&(n.scaleX=-n.scaleX)},addBattleUnit:function(t){this.battleUnitArray.push(t),this.battleUnitArray.sort(function(t,e){return t.getComponent("BattleUnitDataManager").unitType-e.getComponent("BattleUnitDataManager").unitType})},createGeneral:function(t,e){var a=cc.instantiate(this.GeneralPrefab),n=this.node.getChildByName("background");return a.getComponent("BattleGeneral").GeneralID=e,a.getComponent("BattleUnitDataManager").setOwner(t),n.addChild(a),this.addBattleUnit(a),a},createNewChild:function(t){var e=cc.instantiate(this.ChildPrefab),a=this.node.getChildByName("background");return e.setPosition(this.getNewChildPosition()),e.getComponent("BattleUnitDataManager").setOwner(t),a.addChild(e),this.addBattleUnit(e),e},createDrop:function(t,e){var a=cc.instantiate(this.DropPrefab);a.getComponent("BattleDrop").initData(t);var n=360*cc.random0To1()*.017453293,i=Math.sin(n),o=Math.cos(n),s=30,c=50,r=c*i,d=s*o,l=cc.pAdd(e,cc.p(r,d));a.setPosition(l);var _=this.node.getChildByName("background");_.addChild(a),this.addBattleUnit(a)},getNewChildPosition:function(){var t=(cc.view.getDesignResolutionSize(),.5*(this.width/2-cc.random0To1()*this.width)+this.width/2),e=.5*(this.height/2-cc.random0To1()*this.height)+this.height/2;return cc.p(t,e)},update:function(t){this.node.getChildByName("background");for(var e in this.battleUnitArray){var a=this.battleUnitArray[e],i=a.getComponent("BattleUnitDataManager").unitType;if(i==n.BattleUnitTypes.House){var o=(a.getPosition(),a.getBoundingBox());o.height=1.5*o.height;var s=!1,c=this.player,r=c.getComponent("BattleUnitDataManager").unitType;r!=n.BattleUnitTypes.House&&o.contains(c.getPosition())&&(s=!0),s?a.opacity=150:a.opacity=255}}this.player.getComponent("BattleUnitDataManager").isDead&&!this.isGameOver&&this.gameOver();var d=0;for(var e in this.battleUnitArray){var l=this.battleUnitArray[e];l.getComponent("BattleUnitDataManager").GroupIndex!=this.player.getComponent("BattleUnitDataManager").GroupIndex&&d++,l.getComponent("BattleUnitDataManager").isDead&&(l.getComponent("BattleUnitDataManager").dead(),l.removeFromParent(),delete this.battleUnitArray[e])}d<=0&&!this.isGameOver&&this.gameOver()},gameOver:function(){this.isGameOver=!0,cc.director.loadScene("GameOverScene")}}),cc._RFpop()},{}],BattleMoveManager:[function(t,e,a){"use strict";cc._RFpush(e,"f228dExx15It6h+1VDttvTd","BattleMoveManager");var n=null,i=null,o=null;cc.Class({"extends":cc.Component,properties:{},initData:function(t,e,a,n,i,o){cc.log(this.node.getName(),"floowOffsetPos",o),this.mainComponent=t,this.cfgSpeed=e,this.speed=e,this.moveStatus=a,this.isMoving=n,this.foloowTarget=i,this.floowOffsetPos=o,this.floowFreeOffsetPos=o,this.targetPos=cc.p(0,0),this.needMoveTime=0,this.movePosRandomCD=0,this.changeDirctionCD=0,this.mapSize=new cc.size(1920,700),this.autoRandomMoveCD=5,this.isAutoRandomMove=!1,this.isNeedWaitting=!1,this.minMoveTime=0},onLoad:function(){n=window.types,i=window.actionHelper,o=window.csv,this.radius_a=60,this.radius_b=100},updateStatus:function(t){},changeFoloowTarget:function(t){this.foloowTarget=t},setIsNeedWaitting:function(t){this.isNeedWaitting=t},setIsAutoRandomMove:function(t){this.isAutoRandomMove=t},_autoRandomMove:function(){var t=this.mapSize.width,e=this.mapSize.height,a=.5*(t/2-cc.random0To1()*t)+t/2,n=.5*(e/2-cc.random0To1()*e)+e/2;cc.log("auto move...",this.node.getName(),a,"   ",n),this.mainComponent.moveToTarget(cc.p(a,n))},moveToTarget:function(t){if(cc.log("moveToTarget",this.node.getName(),t),this.getComponent("BattleUnitDataManager").unitType===window.types.BattleUnitTypes.Child&&this.changeSpeed(),this.floowOffsetPos=window.math.getRadiusRandomPos(this.radius_a,this.radius_b),this.targetPos=t,this.isMoving=!0,this.mainComponent.changeAction("run",0,!0),this.minMoveTime=.5,this.getComponent("BattleUnitDataManager").unitType===window.types.BattleUnitTypes.Child||this.getComponent("BattleUnitDataManager").unitType===window.types.BattleUnitTypes.General){var e=this.mainComponent.getOwner();if(e){var a=e.getComponent("BattlePlayer");this.floowOffsetPos=a.getUnitPos(this.getComponent("BattleUnitDataManager").unitType)}}},changeSpeed:function(){var t=this.cfgSpeed+80*cc.random0To1();this.speed=t},changeMoveStatus:function(t){this.moveStatus=t},update:function(t){this.autoRandomMoveCD-=t,this.minMoveTime-=t;var e=960-this.node.getPosition().y;if(this.node.setLocalZOrder(e),this.getComponent("BattleUnitDataManager").unitType===window.types.BattleUnitTypes.General,!this.isNeedWaitting&&this.moveStatus!==n.BattleMoveStatus.Stop){if(this.moveStatus===n.BattleMoveStatus.FoloowGroup||this.moveStatus===n.BattleMoveStatus.FoloowFree){if(!this.foloowTarget)return}else if(this.moveStatus===n.BattleMoveStatus.Free&&this.isAutoRandomMove&&this.autoRandomMoveCD<=0)return this._autoRandomMove(),void(this.autoRandomMoveCD=5);var a=this.targetPos,i=this.node.getPosition();if(this.moveStatus===n.BattleMoveStatus.FoloowGroup||this.moveStatus===n.BattleMoveStatus.FoloowFree){var o=this.foloowTarget,s=o.getPosition(),c=this.floowOffsetPos;this.moveStatus===n.BattleMoveStatus.FoloowFree&&(this.movePosRandomCD-=t,this.movePosRandomCD<=0&&(this.floowFreeOffsetPos=window.math.getRadiusRandomPos(2*this.radius_a,2*this.radius_b),this.movePosRandomCD=1+cc.random0To1()),c=this.floowFreeOffsetPos,this.mainComponent.moveToTarget(cc.pAdd(c,s))),a=cc.pAdd(c,s)}if(this.isMoving){var r=Math.abs(cc.pDistance(i,a));if(!(r<=0)){var d=cc.pNormalize(cc.pSub(a,i));this.checkDirction(d),this.changeDirctionCD-=t,this.changeDirctionCD<=0&&(this.changeDirctionCD=1);var l=t,_=this.speed;this.moveStatus===n.BattleMoveStatus.FoloowFree&&(_*=1.5);var p=cc.pAdd(i,cc.pMult(d,_*l)),h=Math.abs(cc.pDistance(i,p));h>r&&this.minMoveTime<=0&&(this.isMoving=!1,p=a,this.mainComponent.changeAction("stand",0,!1)),p.x=Math.min(this.mapSize.width,p.x),p.y=Math.min(this.mapSize.height,p.y);var u=window.battleMain.getComponent("BattleMain").battleUnitArray;for(var g in u){var f=u[g],m=f.getComponent("BattleUnitDataManager").unitType;if(m==n.BattleUnitTypes.House){var v=(f.getPosition(),f.getBoundingBox()),y=window.math.checkIsLineContactRect(v,i,p);if(y){p=y;break}}}this.node.setPosition(p)}}}},checkDirction:function(t){t.x>0?this.mainComponent.changeDirection(window.types.BattleUnitDirection.Right):t.x<0&&this.mainComponent.changeDirection(window.types.BattleUnitDirection.Left)}}),cc._RFpop()},{}],BattlePlayer:[function(t,e,a){"use strict";cc._RFpush(e,"59ed9cSAnxI3aRzmMgEZQgl","BattlePlayer");var n=t("BattleUnitBase");cc.Class({"extends":n,properties:{CommanderLabel:cc.Label,HpBar:cc.ProgressBar},onLoad:function(){this.initConfig(),this.initInfo(1001,1),this.updateCommander(0)},initInfo:function(t,e){var a=window.csv.get("lead_csv",t),n=a.get("speed"),i=a.get("commander"),o=0,s=a.get("initial_attack")+a.get("growth_attack")*e,c=a.get("initial_defense")+a.get("growth_defense")*e,r=a.get("initial_output")+a.get("growth_output")*e,d=window.types.BattleUnitTypes.Player,l=window.csv.get("monster_csv",101);this.initData(l,d,n,r,s,c,o,i),this.data.cfgLead=a,this.initBattleData(),this.initBuffManager(),this.initMoveManager(),this.initSkillManager(),this.initContactManager(),this.initRender()},updateCommander:function(t){this._super(t),this.CommanderLabel.string=this.data.curCommander+"/"+this.data.maxCommander},changeHp:function(t){var e=this.data.curHp;e+=t,e>this.data.maxHp?e=this.data.maxHp:e<0&&(e=0),this.data.curHp=e;var a=this.HpBar,n=a.getComponent(cc.ProgressBar),i=this.data.curHp/this.data.maxHp;n.progress=i},setIsGroupFree:function(t){this._super(t),cc.log("setIsGroupFree",this.childArray)},moveToTarget:function(t){this._super(t),this.initUnitPos()}}),cc._RFpop()},{BattleUnitBase:"BattleUnitBase"}],BattlePopTalk:[function(t,e,a){"use strict";cc._RFpush(e,"b7f33hA6AtBuoaV4Qiog2Li","BattlePopTalk"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=this.node.getComponent(cc.Animation);t.on("finished",this.onFinish,this)},onFinish:function(){cc.log("damagefinish........"),this.poolManager.put(this.node)},init:function(t,e,a){var n=this.node.getComponent(cc.Animation),i=this.node.getChildByName("label_num"),o=i.getComponent(cc.Label);if(o.string=t,n.play(e),i.rotation=0,i.opacity=255,a){var s=30-60*cc.random0To1();i.rotation=s}}}),cc._RFpop()},{}],BattleSkillManager:[function(t,e,a){"use strict";cc._RFpush(e,"34c97CEVztNJJYRveBP+NX+","BattleSkillManager"),cc.Class({"extends":cc.Component,properties:{},initData:function(t){this.publicCD=0,this.target=null,this.isWaittingSkill=!1,this.mainComponent=t},onLoad:function(){},putSkill:function(t){this.skillArray||(this.skillArray=[]);var e=window.csv.get("skill_csv",t);if(e){var a={cfgskill:e,dis:e.get("distance"),cd:0,delay:0,isLock:!1,lockPos:cc.p(0,0),publicCD:e.get("public_cd")/1e3,skillCD:e.get("cd")/1e3};1!=this.getComponent("BattleUnitDataManager").GroupIndex&&(a.skillCD=a.skillCD/2,a.publicCD=a.publicCD/2),this.skillArray.push(a)}},isInAttackRange:function(t,e,a,n){var i=cc.pDistance(t,a),o=!1;return o=cc.sizeEqualToSize(e.size,cc.size.ZERO)?i<=n:window.math.checkIsCircleContactRect(a,n,e.size.height/2,e.size.width/2,e.center)},_checkSkillEffct:function(t){for(var e in this.skillArray){var a=this.skillArray[e];if(a.cd>0&&(a.cd-=t),this.isWaittingSkill)a.delay>0&&(a.delay-=t),a.delay<=0&&(this._effctSkill(a),this.isWaittingSkill=!1,this.getComponent("BattleMoveManager").setIsNeedWaitting(!1));else{if(!this.target)return;var n=this.target.getPosition(),i=this.node.getPosition(),o=this.target.getBoundingBox();a.cd<=0&&this.isInAttackRange(n,o,i,a.dis)&&this._effctSkill(a)}}},_effctSkill:function(t){var e=t.cfgskill,a=(e.get("target_type"),e.get("dis_range")),n=e.get("sector_radius"),i=e.get("power_duration")/1e3,o=e.get("fan_angle"),s=e.get("fire_pos_type"),c=e.get("type");if(i>0&&!this.isWaittingSkill){if(this.isWaittingSkill=!0,this.getComponent("BattleMoveManager").setIsNeedWaitting(!0),t.delay=i,t.isLock=!0,s===window.types.AttackPosType.Target?t.lockPos=this.target.getPosition():s===window.types.AttackPosType.Self&&(t.lockPos=this.node.getPosition()),1===a){var r=this.node.getPosition(),d=t.lockPos,l=window.math.getRad(r,d),_=l-o/2*Math.PI/180,p=l+o/2*Math.PI/180;c==window.types.SkillAttackTypes.Single?window.battleMain.createWarnningNode(i,d,1,0,2*Math.PI):c==window.types.SkillAttackTypes.Sector?window.battleMain.createWarnningNode(i,d,n,_,p):c==window.types.SkillAttackTypes.Circle&&window.battleMain.createWarnningNode(i,d,n,0,2*Math.PI)}}else{t.cd=t.skillCD,this.publicCD=t.publicCD;var h=e.get("coea"),u=e.get("coeb");if(c==window.types.SkillAttackTypes.Single)this.attack(h,u,this.target,e);else if(c==window.types.SkillAttackTypes.Sector)cc.log("there is no Sector"),this.attack(h,u,this.target,e);else if(c==window.types.SkillAttackTypes.Circle)for(var g in window.battleMain.getComponent("BattleMain").battleUnitArray){var f=window.battleMain.getComponent("BattleMain").battleUnitArray[g],m=f.getComponent("BattleUnitDataManager").GroupIndex,v=f.getComponent("BattleUnitDataManager").isActive,y=this.getComponent("BattleUnitDataManager").GroupIndex;if(m!==y&&v){var d=f.getPosition(),C=f.getBoundingBox(),B=this.isInAttackRange(d,C,t.lockPos,n);B&&this.attack(h,u,f,e)}}}},attack:function n(t,e,a,i){var o=this.getComponent("BattleUnitDataManager"),s=a.getComponent("BattleUnitDataManager"),n=o.battleData.attack,c=s.battleData.defence,r=-o.caculateDamage(n,c,t,e);s.changeHp(r),window.battleMain.skillEffect(this.node,a,r,i),this.mainComponent.attack()},update:function(t){this.skillArray&&(this.publicCD-=t,this.publicCD>0||this._checkSkillEffct(t))}}),cc._RFpop()},{}],BattleUnitBase:[function(t,e,a){"use strict";cc._RFpush(e,"b5e3778n41GVLDay7zayAub","BattleUnitBase"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},initData:function(t,e,a,n,i,o,s,c){this.groupTypeIsFree=!1,this.isDead=!1,this.isActive=!1,this.isPlayer=!1,this.groupIndex=0,this.unitStatus=window.types.BattleUnitStatus.Stop,this.dirction=window.types.BattleUnitDirection.Right,this.isBarrier=!1,this.data||(this.data={});var r=this.data;r.unitType=e,r.speed=a,r.maxHp=n,r.curHp=n,r.attack=i,r.defence=o,r.warnningRange=s,r.cfgMonster=t,r.maxCommander=c,r.curCommander=0,r.resType=t.get("resource_type"),this.childArray||(this.childArray=[])},getRenderNode:function(){return this.node.getChildByName("sprite")},initRender:function(){var t=this.data.cfgMonster,e=t.get("resource_name"),a=this.data.resType,n=this,i=this.getRenderNode(),o=t.get("offset_y");i.y=o,a===window.types.ResourcesTypes.Armature?!function(){var t="db/"+e,a=null,o=null,s=i.addComponent(dragonBones.ArmatureDisplay);cc.loader.loadResAll(t,function(t,i){for(var c in i){var r=i[c],d=cc.js.getClassName(r);"dragonBones.DragonBonesAsset"===d?a=r:"dragonBones.DragonBonesAtlasAsset"===d&&(o=r)}s.dragonAsset=a,s.dragonAtlasAsset=o,s.armatureName=e,s.addEventListener(dragonBones.EventObject.COMPLETE,n.armatureEvent,n),n.changeAction("stand",0,!1),s.armature().enableAnimationCache(24)})}():a===window.types.ResourcesTypes.Animation?!function(){var t=i.addComponent(cc.Sprite);t.sizeMode=cc.Sprite.SizeMode.RAW,t.trim=!1;var a=i.addComponent(cc.Animation),o="111clip/";cc.loader.loadRes(o+e+"_stand",cc.AnimationClip,function(t,e){a.addClip(e,"stand"),n.changeAction("stand",0,!1)}),cc.loader.loadRes(o+e+"_run",cc.AnimationClip,function(t,e){a.addClip(e,"run")}),cc.loader.loadRes(o+e+"_attack",cc.AnimationClip,function(t,e){a.addClip(e,"attack"),a.on("finished",n.clipEvent,n)}),cc.loader.loadRes(o+e+"_dead",cc.AnimationClip,function(t,e){a.addClip(e,"dead")})}():a===window.types.ResourcesTypes.Picture&&!function(){var t=i.addComponent(cc.Sprite);t.sizeMode=cc.Sprite.SizeMode.RAW,t.trim=!1,cc.loader.loadRes("battle/battle",cc.SpriteAtlas,function(a,n){var i=n.getSpriteFrame(e);t.getComponent(cc.Sprite).spriteFrame=i})}()},initBattleData:function(){var t=this.data.maxHp,e=this.data.attack,a=this.data.defence,n=this.data.warnningRange,i=(this.data.speed,this.data.cfgMonster),o=this.data.unitType;this.getComponent("BattleUnitDataManager").initData(i,t,e,a,n,o,this,!0)},initBuffManager:function(){this.getComponent("BattleBuffManager").initData(this)},initMoveManager:function(){this.getComponent("BattleMoveManager").initData(this,this.data.speed,window.types.BattleMoveStatus.Free,!1,null,cc.p(0,0)),this.getComponent("BattleMoveManager").setIsAutoRandomMove(!1)},initSkillManager:function(){var t=this.data.cfgMonster;this.getComponent("BattleSkillManager").initData(this),this.getComponent("BattleSkillManager").putSkill(t.get("attack_skillid")),this.getComponent("BattleSkillManager").putSkill(t.get("attack_skillid1")),this.getComponent("BattleSkillManager").putSkill(t.get("attack_skillid2")),this.getComponent("BattleSkillManager").putSkill(t.get("attack_skillid3"))},initContactManager:function(){this.getComponent("BattleContactManager").initData(window.types.BattleContactTypes.Player,this,!1)},armatureEvent:function(t){var e=this.getRenderNode();e.getComponent(dragonBones.ArmatureDisplay);t.type===dragonBones.EventObject.COMPLETE&&"attack"===t.detail.animationState.name&&this.changeAction("run",0,!1)},clipEvent:function(){var t=this.getRenderNode(),e=t.getComponent(cc.Animation),a=e.currentClip;a&&a.name.indexOf("attack")>0&&this.changeAction("stand",1,!1)},attack:function(){this.data.resType,this.getRenderNode();this.changeAction("attack",1,!0)},dead:function(){this.changeAction("dead",0,!1)},hurt:function(){},changeHp:function(t){var e=this.data.curHp;e+=t,e>this.data.maxHp?e=this.data.maxHp:e<0&&(e=0),this.data.curHp=e},effectBuff:function(t){for(var e in this.childArray){var a=this.childArray[e];a.effectBuff(t)}if(t.type===window.types.BattleStatusTypes.HpChange){var n=t.changeValue+t.changePercentage/1e4*this.data.maxHp;this.changeHp(n)}},findEnemy:function(t){cc.log(this.node.getName(),":  findEnemy:  ",t.getName());
},outOfEnemy:function(){cc.log(this.node.getName(),":  outOfEnemy")},putChildUnit:function(t){this.childArray.push(t)},removeChildUnit:function(t){for(var e in this.childArray){var a=this.childArray[e];a===t&&delete this.childArray[e]}},setIsGroupFree:function(t){for(var e in this.childArray){var a=this.childArray[e],n=a.getComponent("BattleMoveManager");t?n.changeMoveStatus(window.types.BattleMoveStatus.FoloowFree):n.changeMoveStatus(window.types.BattleMoveStatus.FoloowGroup)}this.groupTypeIsFree=t},checkCommander:function(t){return!(this.data.curCommander>=this.data.maxCommander)},updateCommander:function(t){this.data.curCommander+=t},effectContact:function(t){},setParent:function(t){this.getComponent("BattleUnitDataManager").setOwner(t);var e=this.getOwner().getComponent("BattlePlayer");this.getRenderNode().color=new cc.Color(255,255,255,255);var a=window.math.getRadiusRandomPos(60,100),n=this.data.speed;e.groupTypeIsFree?this.getComponent("BattleMoveManager").initData(this,n,window.types.BattleMoveStatus.FoloowFree,!1,t,a):this.getComponent("BattleMoveManager").initData(this,n,window.types.BattleMoveStatus.FoloowGroup,!1,t,a),this.getComponent("BattleMoveManager").setIsAutoRandomMove(!1),e.putChildUnit(this.node),e.updateCommander(this.data.needCommander),this.getComponent("BattleContactManager").isActive=!1},getOwner:function(){return this.getComponent("BattleUnitDataManager").owner},moveToTarget:function(t){for(var e in this.childArray){var a=this.childArray[e];a.getComponent("BattleMoveManager").moveToTarget(t)}this.getComponent("BattleMoveManager").moveToTarget(t)},changeDirection:function(t){var e=this.getRenderNode();this.dirction=t,e&&(t===window.types.BattleUnitDirection.Left?e.scaleX>0&&(e.scaleX=-e.scaleX):t===window.types.BattleUnitDirection.Right&&e.scaleX<0&&(e.scaleX=-e.scaleX))},changeAction:function(t,e,a){var n=this.getRenderNode(),i=this.data.resType;if(i===window.types.ResourcesTypes.Armature){var o=n.getComponent(dragonBones.ArmatureDisplay);if(!o)return;var s=!0;a&&o.animationName===t&&(s=!1),s&&o.playAnimation(t,e)}else if(i===window.types.ResourcesTypes.Animation||i===window.types.ResourcesTypes.Picture){var c=n.getComponent(cc.Animation);if(!c)return;var s=!0;if(a){var r=c.getAnimationState(t);r&&r.isPlaying&&(s=!1)}s&&c.play(t)}},changeSpeed:function(){},initConfig:function(){var t=this;t.childPosArray=[],t.generalPosArray=[],cc.loader.loadRes("config/childPos",cc.Prefab,function(e,a){var n=a.data._children;for(var i in n){var o=n[i],s=cc.p(o.x,o.y),c={};c.isUse=!1,c.pos=s,t.childPosArray.push(c)}}),cc.loader.loadRes("config/generalPos",cc.Prefab,function(e,a){var n=a.data._children;for(var i in n){var o=n[i],s=cc.p(o.x,o.y),c={};c.isUse=!1,c.pos=s,t.generalPosArray.push(c)}})},getUnitPos:function(t){var e=this.childArray.length,a=[],n=null;window.types.BattleUnitTypes.General===t?n=this.generalPosArray:window.types.BattleUnitTypes.Child===t&&(n=this.childPosArray);var i=10*Math.floor(e/10)+10;i>30&&(i=30);for(var o in n){if(o>=i)break;var s=n[o];s.isUse||a.push(s)}var c=window.math.getRandom(0,a.length-1,!0),r=a[c],d=cc.p(0,0);return r&&(r.isUse=!0,d=r.pos),d},initUnitPos:function(){for(var t in this.childPosArray){var e=this.childPosArray[t];e.isUse=!1}for(var t in this.generalPosArray){var e=this.generalPosArray[t];e.isUse=!1}}}),cc._RFpop()},{}],BattleUnitDataManager:[function(t,e,a){"use strict";cc._RFpush(e,"cc753aiITVK+aU189doXkcp","BattleUnitDataManager");var n=null;cc.Class({"extends":cc.Component,properties:{GroupIndex:0},initData:function(t,e,a,n,i,o,s,c){var r={};r.cfgMonster=t,r.hp=e,r.maxHp=e,r.attack=a,r.defence=n,r.attackRanage=i,this.battleData=r,this.isDead=!1,this.unitType=o,this.mainComponent=s,this.isActive=c,cc.log("name:",this.node.getName(),"hp:",e,"attack:",a,"defence:",n,"attackRanage:",i)},dead:function(){cc.log("dead........name: ",this.node.getName()),this.mainComponent.dead();for(var t=this.battleData.cfgMonster.get("drop_num"),e=0;e<t;e++){var a=this.battleData.cfgMonster.get("drop_object");if(""!=a){var n=a.split("#"),i=cc.random0To1(),o=-1;for(var s in n){var c=n[s],r=c.split(";"),d=r[0],l=r[1]/1e4;if(l>=i){o=d;break}i-=l}o>0&&window.battleMain.createDrop(o,this.node.getPosition())}}},changeHp:function(t){var e=this.battleData.hp;e+=t,e<=0&&(this.isDead=!0),this.battleData.hp=e,this.mainComponent.changeHp(t)},caculateDamage:function(t,e,a,n){var i=1.05-.1*cc.random0To1(),o=((t-e)*a+n)*i;return o=Math.floor(o),o<1&&(o=1),o},onLoad:function(){n=window.types,this.changeTargetCD=1,this.Status=n.BattleUnitStatus.Stop},setOwner:function(t){this.owner=t},_checkIsFindEnemy:function(t){if(this.isDead)return null;var e=t.getPosition(),a=this.node.getPosition(),i=cc.pDistance(e,a),o=n.BattleUnitStatus.Stop;o=i<=this.battleData.attackRanage?n.BattleUnitStatus.Attack:n.BattleUnitStatus.Stop;var s=this.node.position;if(this.owner){var c=this.owner.getPosition(),r=cc.pDistance(s,c);o===n.BattleUnitStatus.Attack&&r>=300&&(o=n.BattleUnitStatus.Stop)}return this.unitType===n.BattleUnitTypes.Child,this.Status=o,o===n.BattleUnitStatus.Attack?t:o===n.BattleUnitStatus.Stop?null:void 0},changeTarget:function(t){var e=!0;for(var a in window.battleMain.getComponent("BattleMain").battleUnitArray){var n=window.battleMain.getComponent("BattleMain").battleUnitArray[a],i=n.getComponent("BattleUnitDataManager").GroupIndex,o=n.getComponent("BattleUnitDataManager").isActive,s=this.getComponent("BattleUnitDataManager").GroupIndex;if(i!==s&&o){var c=this._checkIsFindEnemy(n);if(this.getComponent("BattleSkillManager").target=c,this.targetEnemy=c,this.targetEnemy){e=!1;break}}}e?(this.getComponent("BattleSkillManager").target=null,this.targetEnemy=null,this.getComponent("BattleMoveManager").changeFoloowTarget(this.owner),this.mainComponent.outOfEnemy()):(cc.log("changeTarget....",this.node.getName()),this.mainComponent.findEnemy(this.targetEnemy),this.getComponent("BattleMoveManager").changeFoloowTarget(this.targetEnemy))},update:function(t){this.isActive&&(this.unitType!==n.BattleUnitTypes.Child&&this.unitType!==n.BattleUnitTypes.General||(this.changeTargetCD-=t,this.changeTargetCD<=0&&(this.changeTarget(t),this.changeTargetCD=1)))},getMainComponent:function(){return this.mainComponent}}),cc._RFpop()},{}],CsvLoader:[function(t,e,a){"use strict";cc._RFpush(e,"e9773kCyQZA8pALlLp10zTs","CsvLoader");var n=cc.Class({load:function(){var t=(new Date).getTime();cc.log("--- csv load start ---------------------------------"),this._loadSingle("lead_csv",null,"office_id"),this._loadSingle("soldier_csv",null,"soldier_id"),this._loadSingle("house_csv",null,"house_type","house_lv"),this._loadSingle("skill_csv",null,"id"),this._loadSingle("general_csv",null,"id"),this._loadSingle("status_csv",null,"id"),this._loadSingle("monster_csv",null,"monster_id"),this._loadSingle("monster_value_csv",null,"monster_id"),this._loadSingle("dropobject_csv",null,"id"),cc.log("--- csv load end, use time: %s -----------------------",(new Date).getTime()-t)},get:function(t){if(this[t]){for(var e="",a=1;a<arguments.length;a++)e+=(1==a?"":"_")+arguments[a];return""===e?this[t]:this[t][e]}},_rowKey:function(t,e,a){for(var n="",i=0,o=0;o<e.length;o++)i=a[e[o]],n+=(0===o?"":"_")+t.__d[i];return n},_loadSingle:function(e,a){for(var n=[],i=2;i<arguments.length;i++)n.push(arguments[i]);for(var o=t(e),s=o.head,c=o.data,r=function(t){var e=s[t];return null!==e?this.__d[e]:null},d={},l=0;l<c.length;l++){var _=c[l];_.get=r.bind(_),a&&a(_);var p=this._rowKey(_,n,s);d[""!==p?p:l]=_}this[e]=d}});e.exports=n,cc._RFpop()},{}],Effect:[function(t,e,a){"use strict";cc._RFpush(e,"c769cI/IrFJBrYVgO0EFZc3","Effect"),cc.Class({"extends":cc.Component,properties:{},getAnimation:function(){var t=this.node.getChildByName("sprite"),e=t.getComponent(cc.Animation);return e},onLoad:function(){var t=this.getAnimation();t.on("finished",this.onFinish,this),this.node.scale=2},onFinish:function(){this.poolManager.put(this.node)},init:function(){this.playAnimation("guanyu_attack_effect")},playAnimation:function(t){var e=960-this.node.getPosition().y;this.node.setLocalZOrder(e);var a=this.getAnimation(),n=a.getAnimationState(t);if(cc.log("animation.....",t),n)a.play(t);else{var i="effect/";cc.loader.loadRes(i+t,cc.AnimationClip,function(e,n){a.addClip(n,t),a.play(t)})}}}),cc._RFpop()},{}],GameOver:[function(t,e,a){"use strict";cc._RFpush(e,"23785yish5E6a4iLz8zjEGL","GameOver"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=cc.delayTime(3),e=cc.callFunc(this.end,this);this.node.runAction(cc.sequence(t,e))},end:function(){cc.director.loadScene("BattleMainScene")}}),cc._RFpop()},{}],GameStart:[function(t,e,a){"use strict";cc._RFpush(e,"a16feBwNdhL3oA13SGEexRQ","GameStart"),cc.Class({"extends":cc.Component,properties:{progressBar:cc.ProgressBar,progressLabel:cc.Label},onBtnSpeedClicked:function(){this._loading()},onLoad:function(){cc.game.setFrameRate(30),cc.director.setDisplayStats(!0),cc._initDebugSetting(cc.DebugMode.ERROR),cc._renderType===cc.game.RENDER_TYPE_CANVAS&&cc.renderer.enableDirtyRegion(!1)},test:function(t){var e=640*cc.random0To1()-320,a=960*cc.random0To1()-480;t.runAction(cc.moveTo(.8,cc.p(e,a)))},_loading:function(){this.load_total_count=3,this.load_cur_index=0,this.load_is_done=!1;var t=this;cc.loader.loadResAll("111clip",function(e,a){return e?void cc.error(e):(t.load_cur_index++,void(t.progressBar.progress=t.load_cur_index/t.load_total_count))}),cc.loader.loadRes("battle/mercenary",cc.SpriteAtlas,function(e,a){return e?void cc.error(e):(t.load_cur_index++,void(t.progressBar.progress=t.load_cur_index/t.load_total_count))}),cc.loader.loadRes("battle/battle",cc.SpriteAtlas,function(e,a){return e?void cc.error(e):(t.load_cur_index++,void(t.progressBar.progress=t.load_cur_index/t.load_total_count))})},_progressCallback:function(t,e,a){this.progress=t/e,this.resource=a,this.completedCount=t,this.totalCount=e,this.progressLabel.string=t+"/"+e+"-------("+a.id+")"},_completeCallback:function(t,e){cc.director.loadScene("BattleMainScene")},update:function(t){this.load_cur_index>=this.load_total_count&&!this.load_is_done&&(this.load_is_done=!0,cc.director.loadScene("BattleMainScene"))}}),cc._RFpop()},{}],HelloWorld:[function(t,e,a){"use strict";cc._RFpush(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RFpop()},{}],HouseHurtEffect:[function(t,e,a){"use strict";cc._RFpush(e,"4ea11TakYRL8bke19dXfR0V","HouseHurtEffect"),cc.Class({"extends":cc.Component,properties:{},init:function(){var t=this.node.getChildByName("smoke").getComponent(cc.ParticleSystem),e=this.node.getChildByName("fragment").getComponent(cc.ParticleSystem);t.resetSystem(),e.resetSystem();var a=cc.delayTime(.5),n=cc.callFunc(this.end,this);this.node.runAction(cc.sequence(a,n))},onLoad:function(){},end:function(){this.poolManager.put(this.node)}}),cc._RFpop()},{}],Init:[function(t,e,a){"use strict";cc._RFpush(e,"cb0f4oYGdtBCqyGbGTBOhi7","Init");var n=t("CsvLoader"),i=t("ActionHelper"),o=t("Types"),s=t("MathHelper");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=new n;t.load(),window.csv=t;var e=new i;window.actionHelper=e;var a=new s;window.math=a,a.initConfig(),window.types=o}}),cc._RFpop()},{ActionHelper:"ActionHelper",CsvLoader:"CsvLoader",MathHelper:"MathHelper",Types:"Types"}],MapManager:[function(t,e,a){"use strict";cc._RFpush(e,"aa77eAJGoxGRKJfjR3nzWlx","MapManager"),cc.Class({"extends":cc.Component,properties:{player:cc.Node,width:0,height:0},onLoad:function(){this.last_pos=cc.p(0,0)},update:function(t){var e=this.player.getPosition(),a=cc.view.getVisibleSize(),n=cc.p(a.width/2,a.height/2),i=Math.max(n.x,e.x),o=Math.max(n.y,e.y);i=Math.min(i,this.width-n.x),o=Math.min(o,this.height-n.y);var s=cc.p(i,o),c=cc.pSub(n,s);this.last_pos.x==c.x&&this.last_pos.y==c.y||(this.moveMap(cc.pSub(c,this.last_pos)),this.last_pos=c)},moveMap:function(t){var e=this.node.getChildByName("background"),a=(this.player.getPosition(),e.getPosition());a=cc.pAdd(a,t);var n=cc.view.getVisibleSize(),i=n.width-this.width-n.width/2,o=n.height-this.height-n.height/2,s=-n.width/2,c=-n.height/2;a.x<i&&(a.x=i),a.y<o&&(a.y=o),a.x>s&&(a.x=s),a.y>c&&(a.y=c),e.setPosition(a)}}),cc._RFpop()},{}],MathHelper:[function(t,e,a){"use strict";cc._RFpush(e,"b1450RkRjNLEJOG6T/gtI9G","MathHelper");var n=cc.Class({initConfig:function(){var t=this;t.childPosArray=[],t.generalPosArray=[],cc.loader.loadRes("config/childPos",cc.Prefab,function(e,a){var n=a.data._children;for(var i in n){var o=n[i],s=cc.p(o.x,o.y),c={};c.isUse=!1,c.pos=s,t.childPosArray.push(c)}}),cc.loader.loadRes("config/generalPos",cc.Prefab,function(e,a){var n=a.data._children;for(var i in n){var o=n[i],s=cc.p(o.x,o.y),c={};c.isUse=!1,c.pos=s,t.generalPosArray.push(c)}})},getUnitPos:function(t){var e=[],a=null;window.types.BattleUnitTypes.General===t?a=this.generalPosArray:window.types.BattleUnitTypes.Child===t&&(a=this.childPosArray);for(var n in a){var i=a[n];i.isUse||e.push(i)}var o=this.getRandom(0,e.length-1,!0),s=e[o],c=cc.p(0,0);return s&&(s.isUse=!0,c=s.pos),c},initPlayerPos:function(){for(var t in this.childPosArray){var e=this.childPosArray[t];e.isUse=!1}for(var t in this.generalPosArray){var e=this.generalPosArray[t];e.isUse=!1}},getRad:function(t,e){var a=cc.pSub(e,t),n=cc.pToAngle(a);return a.y<0&&(n+=2*Math.PI),n},getAngle:function(t,e){var a=this.getRad(t,e);return 180*a/Math.PI},getRandom:function(t,e,a){var n=e-t,i=Math.random(),o=t+Math.round(i*n);return a?Math.floor(o):o},getRadiusRandomPos:function(t,e){var a=360*cc.random0To1()*.017453293,n=Math.sin(a),i=Math.cos(a),o=e*n,s=t*i,c=cc.p(o,s),r=cc.pMult(c,cc.random0To1());return r},checkIsCircleContactRect:function(t,e,a,n,i){var o=cc.p(n,a),s=cc.p(Math.abs(t.x-i.x),Math.abs(t.y-i.y)),c=cc.p(Math.max(s.x-o.x,0),Math.max(s.y-o.y,0)),r=cc.pLength(c),d=r<=e;return d},checkIsLineContactRect:function(t,e,a){var n=t.contains(e),i=t.contains(a),o=t.xMax,s=t.xMin,c=t.yMax,r=t.yMin;if(n&&i||n)return cc.p(s-1,r-1);var d=cc.p(s,r),l=cc.p(s,c),_=cc.p(o,r),p=cc.p(o,c);if(i){var h=null;if(h=this.segmentsIntr(e,a,d,l))return h.x=h.x-1,h;if(h=this.segmentsIntr(e,a,d,_))return h.y=h.y-1,h;if(h=this.segmentsIntr(e,a,p,l))return h.y=h.y+1,h;if(h=this.segmentsIntr(e,a,p,_))return h.x=h.x+1,h}return!1},segmentsIntr:function(t,e,a,n){var i=(t.x-a.x)*(e.y-a.y)-(t.y-a.y)*(e.x-a.x),o=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x);if(i*o>=0)return!1;var s=(a.x-t.x)*(n.y-t.y)-(a.y-t.y)*(n.x-t.x),c=s+i-o;if(s*c>=0)return!1;var r=s/(o-i),d=r*(e.x-t.x),l=r*(e.y-t.y);return{x:t.x+d,y:t.y+l}}});e.exports=n,cc._RFpop()},{}],OnTouchCtrl:[function(t,e,a){"use strict";cc._RFpush(e,"0b4b1cdNkZMqaByi9qELtrK","OnTouchCtrl"),cc.Class({"extends":cc.Component,properties:{canvas:cc.Node,follower:{"default":null,type:cc.Node},TouchPoint:{"default":null,type:cc.Prefab}},onLoad:function(){this.touchPool=new cc.NodePool;for(var t=10,e=0;e<t;++e){var a=cc.instantiate(this.TouchPoint);this.touchPool.put(a)}var n=this;n.canvas.on(cc.Node.EventType.TOUCH_START,function(t){var e=t.getTouches(),a=e[0].getLocation(),i=n.follower.parent.convertToNodeSpaceAR(a);n.follower.getComponent("BattlePlayer").moveToTarget(i)},n.node),n.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(t){},n.node),n.canvas.on(cc.Node.EventType.TOUCH_END,function(t){},n.node)},update:function(t){}}),cc._RFpop()},{}],TouchPoint:[function(t,e,a){"use strict";cc._RFpush(e,"03179TPXt1F3oAHnMkAcjZq","TouchPoint");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},init:function(){var t=this.node.getChildByName("img_point"),e=this.node.getChildByName("img_circle"),a=cc.moveBy(1,cc.p(0,20)),n=cc.moveBy(1,cc.p(0,-20));t.runAction(cc.repeatForever(cc.sequence(a,n)));var i=cc.scaleTo(1,.8),o=cc.scaleTo(1,1);e.runAction(cc.repeatForever(cc.sequence(i,o)));var s=cc.delayTime(.5),c=cc.fadeOut(1),r=cc.callFunc(this.end,this);this.node.runAction(cc.sequence(s,c,r))},end:function(){var t=this.node.getChildByName("img_point"),e=this.node.getChildByName("img_circle");this.node.stopAllActions(),t.stopAllActions(),e.stopAllActions(),e.scale=1,t.position=cc.p(0,33),this.node.opacity=255,this.poolManager.put(this.node)}});cc._RFpop()},{}],Types:[function(t,e,a){"use strict";cc._RFpush(e,"eee60uGfDtPZLJykgcYs+ci","Types");var n=cc.Enum({Stop:1,Foloow:2,Attack:3}),i=cc.Enum({Stop:1,FoloowGroup:2,FoloowFree:3,Free:4}),o=cc.Enum({Single:1,Sector:2,Circle:3}),s=cc.Enum({Self:1,Enemy:2,All:3,Friends:4}),c=cc.Enum({Player:1,General:2,Child:3,House:4,Drop:5,PlayerGeneral:6}),r=cc.Enum({Player:1,Child:2,All:3}),d=cc.Enum({HpChange:1,AttackChange:2,DefenceChange:3,CommanderChange:4,HpAddOrSub:11,Invincible:12,SuckBlood:13,SpeedChange:14,Dizzy:15}),l=cc.Enum({None:0,Buff:1,Money:2}),_=cc.Enum({Armature:1,Animation:2,Picture:3}),p=cc.Enum({Up:1,Down:2,Left:3,Right:4}),h=cc.Enum({Self:1,Target:2});e.exports={SkillTargetTypes:s,BattleUnitTypes:c,BattleMoveStatus:i,SkillAttackTypes:o,BattleContactTypes:r,BattleStatusTypes:d,DropEffectTypes:l,ResourcesTypes:_,BattleUnitStatus:n,BattleUnitDirection:p,AttackPosType:h},cc._RFpop()},{}],WarnningNode:[function(t,e,a){"use strict";cc._RFpush(e,"237bdCGvudJ6LXi5RtFEAvz","WarnningNode"),cc.Class({"extends":cc.Component,properties:{},arc:function(t,e,a){cc.director.setClearColor&&cc.director.setClearColor(cc.Color.WHITE);var n=this.getComponent(cc.Graphics);n.lineWidth=5,n.fillColor=new cc.Color(255,0,0,100),n.arc(0,0,t,e,a,!0),n.lineTo(0,0),n.close(),n.stroke(),n.fill()},setTime:function(t){var e=cc.delayTime(t),a=cc.callFunc(this.end,this);this.node.runAction(cc.sequence(e,a))},onLoad:function(){},end:function(){this.poolManager.put(this.node)},onDisable:function(){}}),cc._RFpop()},{}],dropobject_csv:[function(t,e,a){"use strict";cc._RFpush(e,"e8904whTwNCMoTkXdJh+BQp","dropobject_csv");var n={id:0,image:1,drop_wav:2,pickup_wav:3,type1:4,parameter1:5,type2:6,parameter2:7},i=[{__d:[1001,"mercenary_25000001","","",1,"1",0,""]},{__d:[1002,"mercenary_99000003","","",1,"2",1,"3"]}];e.exports={head:n,data:i},cc._RFpop()},{}],enemyteam_csv:[function(t,e,a){"use strict";cc._RFpush(e,"218d14msA1H/Lrx4zevBT+d","enemyteam_csv");var n={team_id:0,team_name:1,boss_team:2,monster1_team:3,monster2_team:4,monster3_team:5,monster4_team:6,monster5_team:7,monster6_team:8},i=[{__d:[1,"暴民1","","","","","","",""]},{__d:[2,"暴民2","","","","","","",""]},{__d:[3,"暴民3","","","","","","",""]},{__d:[4,"暴民4","","","","","","",""]},{__d:[5,"暴民5","","","","","","",""]},{__d:[6,"暴民6","","","","","","",""]},{__d:[7,"暴民7","","","","","","",""]},{__d:[8,"暴民8","","","","","","",""]},{__d:[9,"暴民9","","","","","","",""]},{__d:[10,"暴民10","","","","","","",""]},{__d:[11,"黄巾冲击1","","","","","","",""]},{__d:[12,"黄巾冲击2","","","","","","",""]},{__d:[13,"黄巾冲击3","","","","","","",""]},{__d:[14,"黄巾冲击4","","","","","","",""]},{__d:[15,"黄巾冲击5","","","","","","",""]},{__d:[16,"黄巾冲击6","","","","","","",""]},{__d:[17,"黄巾冲击7","","","","","","",""]},{__d:[18,"黄巾冲击8","","","","","","",""]},{__d:[19,"黄巾冲击9","","","","","","",""]},{__d:[20,"黄巾冲击10","","","","","","",""]},{__d:[21,"","","","","","","",""]},{__d:[22,"","","","","","","",""]},{__d:[23,"","","","","","","",""]},{__d:[24,"","","","","","","",""]},{__d:[25,"","","","","","","",""]},{__d:[26,"","","","","","","",""]},{__d:[27,"","","","","","","",""]},{__d:[28,"","","","","","","",""]},{__d:[29,"","","","","","","",""]},{__d:[30,"","","","","","","",""]},{__d:[31,"","","","","","","",""]},{__d:[32,"","","","","","","",""]},{__d:[33,"","","","","","","",""]},{__d:[34,"","","","","","","",""]},{__d:[35,"","","","","","","",""]},{__d:[36,"","","","","","","",""]},{__d:[37,"","","","","","","",""]},{__d:[38,"","","","","","","",""]},{__d:[39,"","","","","","","",""]},{__d:[40,"","","","","","","",""]},{__d:[41,"","","","","","","",""]},{__d:[42,"","","","","","","",""]},{__d:[43,"","","","","","","",""]},{__d:[44,"","","","","","","",""]},{__d:[45,"","","","","","","",""]},{__d:[46,"","","","","","","",""]},{__d:[47,"","","","","","","",""]},{__d:[48,"","","","","","","",""]},{__d:[49,"","","","","","","",""]},{__d:[50,"","","","","","","",""]},{__d:[51,"","","","","","","",""]},{__d:[52,"","","","","","","",""]},{__d:[53,"","","","","","","",""]},{__d:[54,"","","","","","","",""]},{__d:[55,"","","","","","","",""]},{__d:[56,"","","","","","","",""]},{__d:[57,"","","","","","","",""]},{__d:[58,"","","","","","","",""]},{__d:[59,"","","","","","","",""]},{__d:[60,"","","","","","","",""]},{__d:[61,"","","","","","","",""]},{__d:[62,"","","","","","","",""]},{__d:[63,"","","","","","","",""]},{__d:[64,"","","","","","","",""]},{__d:[65,"","","","","","","",""]},{__d:[66,"","","","","","","",""]},{__d:[67,"","","","","","","",""]},{__d:[68,"","","","","","","",""]},{__d:[69,"","","","","","","",""]},{__d:[70,"","","","","","","",""]},{__d:[71,"","","","","","","",""]},{__d:[72,"","","","","","","",""]},{__d:[73,"","","","","","","",""]},{__d:[74,"","","","","","","",""]},{__d:[75,"","","","","","","",""]},{__d:[76,"","","","","","","",""]},{__d:[77,"","","","","","","",""]},{__d:[78,"","","","","","","",""]},{__d:[79,"","","","","","","",""]},{__d:[80,"","","","","","","",""]},{__d:[81,"","","","","","","",""]},{__d:[82,"","","","","","","",""]},{__d:[83,"","","","","","","",""]},{__d:[84,"","","","","","","",""]},{__d:[85,"","","","","","","",""]},{__d:[86,"","","","","","","",""]},{__d:[87,"","","","","","","",""]},{__d:[88,"","","","","","","",""]},{__d:[89,"","","","","","","",""]},{__d:[90,"","","","","","","",""]},{__d:[91,"","","","","","","",""]},{__d:[92,"","","","","","","",""]},{__d:[93,"","","","","","","",""]},{__d:[94,"","","","","","","",""]},{__d:[95,"","","","","","","",""]},{__d:[96,"","","","","","","",""]},{__d:[97,"","","","","","","",""]},{__d:[98,"","","","","","","",""]},{__d:[99,"","","","","","","",""]},{__d:[100,"","","","","","","",""]}];e.exports={head:n,data:i},cc._RFpop()},{}],general_csv:[function(t,e,a){"use strict";cc._RFpush(e,"6c260M2Sr5LUr73+jaxrIb+","general_csv");var n={id:0,general_id:1,monster_id:2,general_name:3,general_star:4,exp:5,up_star_id:6,up_star_num:7,update_id:8,to_exp:9,need_commander:10,output:11,attack:12,defense:13},i=[{__d:[2001,2001,2001,"关二习",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2002,2001,2001,"关二习",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2003,2001,2001,"关二习",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2004,2001,2001,"关二习",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2005,2001,2001,"关二习",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2006,2001,2001,"关二习",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2007,2001,2001,"关二习",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2008,2001,2001,"关二习",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2009,2001,2001,"关二习",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2010,2001,2001,"关二习",10,0,0,0,-1,-1,75,1e4,600,280]},{__d:[2011,2002,2002,"张飞",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2012,2002,2002,"张飞",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2013,2002,2002,"张飞",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2014,2002,2002,"张飞",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2015,2002,2002,"张飞",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2016,2002,2002,"张飞",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2017,2002,2002,"张飞",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2018,2002,2001,"张飞",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2019,2002,2002,"张飞",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2020,2002,2002,"张飞",10,0,0,0,-1,-1,75,1e4,600,280]},{__d:[2021,2003,2003,"刘备",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2022,2003,2003,"刘备",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2023,2003,2003,"刘备",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2024,2003,2003,"刘备",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2025,2003,2003,"刘备",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2026,2003,2003,"刘备",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2027,2003,2003,"刘备",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2028,2003,2003,"刘备",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2029,2003,2003,"刘备",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2030,2003,2003,"刘备",10,0,0,0,-1,-1,75,1e4,600,280]},{__d:[2031,2004,2004,"张角",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2032,2004,2004,"张角",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2033,2004,2004,"张角",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2034,2004,2004,"张角",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2035,2004,2004,"张角",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2036,2004,2004,"张角",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2037,2004,2004,"张角",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2038,2004,2004,"张角",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2039,2004,2004,"张角",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2040,2004,2004,"张角",10,0,0,0,-1,-1,75,1e4,600,280]},{__d:[2041,2005,2005,"典韦",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2042,2005,2005,"典韦",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2043,2005,2005,"典韦",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2044,2005,2005,"典韦",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2045,2005,2005,"典韦",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2046,2005,2005,"典韦",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2047,2005,2005,"典韦",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2048,2005,2005,"典韦",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2049,2005,2005,"典韦",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2050,2005,2005,"典韦",10,0,0,0,-1,-1,75,1e4,600,280]},{__d:[2051,2006,2006,"张飞",1,100,0,0,2002,100,30,1e3,150,100]},{__d:[2052,2006,2006,"张飞",2,200,0,0,2003,200,35,2e3,200,120]},{__d:[2053,2006,2006,"张飞",3,400,0,0,2004,400,40,3e3,250,140]},{__d:[2054,2006,2006,"张飞",4,800,0,0,2005,800,45,4e3,300,160]},{__d:[2055,2006,2006,"张飞",5,0,2005,1,2006,-1,50,5e3,350,180]},{__d:[2056,2006,2006,"张飞",6,0,2006,1,2007,-1,55,6e3,400,200]},{__d:[2057,2006,2006,"张飞",7,0,2007,1,2008,-1,60,7e3,450,220]},{__d:[2058,2006,2006,"张飞",8,0,2008,1,2009,-1,65,8e3,500,240]},{__d:[2059,2006,2006,"张飞",9,0,2009,1,2010,-1,70,9e3,550,260]},{__d:[2060,2006,2006,"张飞",10,0,0,0,-1,-1,75,1e4,600,280]}];e.exports={head:n,data:i},cc._RFpop()},{}],house_csv:[function(t,e,a){"use strict";cc._RFpush(e,"04d5csiQ15PALX6kUY9005L","house_csv");var n={house_type:0,monster_id:1,house_name:2,house_lv:3,need_money:4,boom:5,output:6,defense:7,remove_money:8},i=[{__d:[4001,4001,"村长家",1,1e3,50,1e5,100,100]},{__d:[4001,4001,"村长家",2,1e4,70,2e3,200,1e3]},{__d:[4001,4001,"村长家",3,2e4,100,3e3,300,2e3]},{__d:[4001,4001,"村长家",4,3e4,150,4e3,400,3e3]},{__d:[4001,4001,"村长家",5,4e4,200,5e3,500,4e3]},{__d:[4001,4001,"村长家",6,5e4,300,6e3,600,5e3]},{__d:[4001,4001,"村长家",7,6e4,400,7e3,700,6e3]},{__d:[4001,4001,"村长家",8,7e4,500,8e3,800,7e3]},{__d:[4001,4001,"村长家",9,8e4,700,9e3,900,8e3]},{__d:[4001,4001,"村长家",10,9e4,1e3,1e4,1e3,9e3]},{__d:[4101,4101,"民居",1,500,10,5e4,50,50]},{__d:[4101,4101,"民居",2,1e3,20,800,60,100]},{__d:[4101,4101,"民居",3,2e3,30,1100,70,200]},{__d:[4101,4101,"民居",4,3e3,40,1400,80,300]},{__d:[4101,4101,"民居",5,4e3,50,1700,90,400]},{__d:[4101,4101,"民居",6,5e3,60,2e3,100,500]},{__d:[4101,4101,"民居",7,6e3,70,2300,110,600]},{__d:[4101,4101,"民居",8,7e3,80,2600,120,700]},{__d:[4101,4101,"民居",9,8e3,90,2900,130,800]},{__d:[4101,4101,"民居",10,9e3,100,3200,140,900]},{__d:[4201,4201,"酒楼",1,800,20,8e4,50,80]},{__d:[4201,4201,"酒楼",2,1600,40,1200,70,160]},{__d:[4201,4201,"酒楼",3,3200,60,1600,90,320]},{__d:[4201,4201,"酒楼",4,5e3,80,2e3,110,500]},{__d:[4201,4201,"酒楼",5,1e4,100,2400,130,1e3]},{__d:[4201,4201,"酒楼",6,2e4,120,2800,150,2e3]},{__d:[4201,4201,"酒楼",7,3e4,140,3200,170,3e3]},{__d:[4201,4201,"酒楼",8,4e4,160,3600,190,4e3]},{__d:[4201,4201,"酒楼",9,5e4,180,4e3,210,5e3]},{__d:[4201,4201,"酒楼",10,6e4,200,4400,230,6e3]}];e.exports={head:n,data:i},cc._RFpop()},{}],house_open_csv:[function(t,e,a){"use strict";cc._RFpush(e,"47dfeHJxYdFEb/rpeV0uoUu","house_open_csv");var n={house_id:0,house_type:1,house_name:2,house_position:3,open_type:4,open_req:5,open_des:6},i=[{__d:[4001,4001,"村长家",1,0,0,""]},{__d:[4101,4101,"民居",1,1,1,"村长家1级"]},{__d:[4102,4101,"民居",2,1,2,"村长家2级"]},{__d:[4103,4101,"民居",3,1,3,"村长家3级"]},{__d:[4104,4101,"民居",4,1,4,"村长家4级"]},{__d:[4105,4101,"民居",5,1,5,"村长家5级"]},{__d:[4106,4101,"民居",6,1,6,"村长家6级"]},{__d:[4107,4101,"民居",7,1,7,"村长家7级"]},{__d:[4108,4101,"民居",8,1,8,"村长家8级"]},{__d:[4109,4101,"民居",9,1,9,"村长家9级"]},{__d:[4110,4101,"民居",10,1,10,"村长家10级"]},{__d:[4201,4201,"酒楼",1,1,3,"村长家3级"]},{__d:[4202,4201,"酒楼",2,1,5,"村长家5级"]},{__d:[4203,4201,"酒楼",3,1,7,"村长家7级"]}];e.exports={head:n,data:i},cc._RFpop()},{}],item_csv:[function(t,e,a){"use strict";cc._RFpush(e,"5b7044bpClJQ5Er40EqjOig","item_csv");var n={item_id:0,name:1,des1:2,icon:3,item_type:4,stack:5,quality:6},i=[{__d:[1,"元宝","珍贵异常，可购买很多稀有道具","",0,0,2]},{__d:[2,"铜钱","用途广泛的通用货币","",0,0,4]},{__d:[3,"繁荣度","城市繁荣的象征","",0,0,4]},{__d:[11,"村民","能提升村子的税收","",0,0,1]},{__d:[2001,"关二习","三国名将关二习","",1,1,3]},{__d:[2002,"关二习","三国名将关二习","",1,1,3]},{__d:[2003,"关二习","三国名将关二习","",1,1,3]},{__d:[2004,"关二习","三国名将关二习","",1,1,3]},{__d:[2005,"关二习","三国名将关二习","",1,1,3]},{__d:[2006,"关二习","三国名将关二习","",1,1,3]},{__d:[2007,"关二习","三国名将关二习","",1,1,3]},{__d:[2008,"关二习","三国名将关二习","",1,1,3]},{__d:[2009,"关二习","三国名将关二习","",1,1,3]},{__d:[2010,"关二习","三国名将关二习","",1,1,3]},{__d:[3001,"农民","一个老实巴交的普通农民","",2,9999,1]},{__d:[3002,"农民","一个老实巴交的普通农民，气血比较足","",2,9999,2]},{__d:[3003,"农民","一个老实巴交的普通农民，气血充盈","",2,9999,3]},{__d:[3004,"农民","一个老实巴交的普通农民，或许得到过什么奇遇","",2,9999,4]},{__d:[3011,"地痞","地痞流氓","",2,9999,1]},{__d:[3012,"地痞","地痞流氓，最好别招惹","",2,9999,2]},{__d:[3013,"地痞","地痞流氓，练过几手","",2,9999,3]},{__d:[3014,"地痞","地痞流氓，“流氓拳”小成","",2,9999,4]},{__d:[3021,"老头","一个普通的老人","",2,9999,1]},{__d:[3022,"老头","略显强壮的老人","",2,9999,2]},{__d:[3023,"老头","这个老人似乎练过","",2,9999,3]},{__d:[3024,"老头","“一派宗师”之相，拉出去当骗子肯定能得手","",2,9999,4]}];e.exports={head:n,data:i},cc._RFpop()},{}],lead_csv:[function(t,e,a){"use strict";cc._RFpush(e,"ba8ffEnuTBKO4oOcCiwA3Lg","lead_csv");var n={office_id:0,office_name:1,need_boom:2,update_id:3,speed:4,control_range:5,commander:6,initial_output:7,growth_output:8,initial_attack:9,growth_attack:10,initial_defense:11,growth_defense:12},i=[{__d:[1001,"渣渣村长",100,1002,140,300,50,1e3,100,150,15,100,10]},{__d:[1002,"沙雕村长",200,1003,140,300,80,2e3,200,200,20,120,12]},{__d:[1003,"捡币村长",500,1004,140,300,110,3e3,300,250,25,140,14]},{__d:[1004,"普通村长",1e3,1005,140,300,140,4e3,400,300,30,160,16]},{__d:[1005,"精英村长",1500,1006,140,300,170,5e3,500,350,35,180,18]},{__d:[1006,"史诗村长",2e3,1007,140,300,200,6e3,600,400,40,200,20]},{__d:[1007,"传奇村长",0,-1,140,300,230,7e3,700,450,45,220,22]}];e.exports={head:n,data:i},cc._RFpop()},{}],lead_exp_csv:[function(t,e,a){"use strict";cc._RFpush(e,"6cc0cvZ2MRF85N21i4rfRd7","lead_exp_csv");var n={lead_lv:0,exp:1},i=[{__d:[1,16]},{__d:[2,29]},{__d:[3,44]},{__d:[4,61]},{__d:[5,80]},{__d:[6,101]},{__d:[7,124]},{__d:[8,149]},{__d:[9,176]},{__d:[10,205]},{__d:[11,236]},{__d:[12,269]},{__d:[13,304]},{__d:[14,341]},{__d:[15,380]},{__d:[16,421]},{__d:[17,464]},{__d:[18,509]},{__d:[19,556]},{__d:[20,605]},{__d:[21,656]},{__d:[22,709]},{__d:[23,764]},{__d:[24,821]},{__d:[25,880]},{__d:[26,941]},{__d:[27,1004]},{__d:[28,1069]},{__d:[29,1136]},{__d:[30,1205]},{__d:[31,1276]},{__d:[32,1349]},{__d:[33,1424]},{__d:[34,1501]},{__d:[35,1580]},{__d:[36,1661]},{__d:[37,1744]},{__d:[38,1829]},{__d:[39,1916]},{__d:[40,2005]},{__d:[41,2096]},{__d:[42,2189]},{__d:[43,2284]},{__d:[44,2381]},{__d:[45,2480]},{__d:[46,2581]},{__d:[47,2684]},{__d:[48,2789]},{__d:[49,2896]},{__d:[50,3005]},{__d:[51,3116]},{__d:[52,3229]},{__d:[53,3344]},{__d:[54,3461]},{__d:[55,3580]},{__d:[56,3701]},{__d:[57,3824]},{__d:[58,3949]},{__d:[59,4076]},{__d:[60,4205]},{__d:[61,4336]},{__d:[62,4469]},{__d:[63,4604]},{__d:[64,4741]},{__d:[65,4880]},{__d:[66,5021]},{__d:[67,5164]},{__d:[68,5309]},{__d:[69,5456]},{__d:[70,5605]},{__d:[71,5756]},{__d:[72,5909]},{__d:[73,6064]},{__d:[74,6221]},{__d:[75,6380]},{__d:[76,6541]},{__d:[77,6704]},{__d:[78,6869]},{__d:[79,7036]},{__d:[80,7205]},{__d:[81,7376]},{__d:[82,7549]},{__d:[83,7724]},{__d:[84,7901]},{__d:[85,8080]},{__d:[86,8261]},{__d:[87,8444]},{__d:[88,8629]},{__d:[89,8816]},{__d:[90,9005]},{__d:[91,9196]},{__d:[92,9389]},{__d:[93,9584]},{__d:[94,9781]
},{__d:[95,9980]},{__d:[96,10181]},{__d:[97,10384]},{__d:[98,10589]},{__d:[99,10796]},{__d:[100,11005]}];e.exports={head:n,data:i},cc._RFpop()},{}],monster_csv:[function(t,e,a){"use strict";cc._RFpush(e,"dbf89mmgVZBKbRM1BqqONsX","monster_csv");var n={monster_id:0,name:1,monster_type:2,group:3,special_avoid:4,life_time:5,resource_type:6,resource_name:7,dead_effect:8,zoom:9,offset_y:10,birth_sound:11,dead_sound:12,hurt_sound:13,speed:14,warning_range:15,fix_hurt_hp:16,hp_num:17,skill_order:18,attack_skillid:19,skill_id1:20,skill_trigger1:21,skill_par1:22,skill_num1:23,skill_id2:24,skill_trigger2:25,skill_par2:26,skill_num2:27,skill_id3:28,skill_trigger3:29,skill_par3:30,skill_num3:31,drop_object:32,drop_num:33,exp:34,drop_item:35,drop_item_num:36},i=[{__d:[101,"男主角",1,0,"",0,2,"liubei","",1,-30,"","","",0,0,0,0,"",201,0,0,0,0,0,0,0,0,0,0,0,0,"",0,0,0,0]},{__d:[2001,"关二习",2,0,"",0,2,"guanyu","",1,-55,"","","",135,200,0,3,"",202,0,0,0,0,0,0,0,0,0,0,0,0,"",0,100,2001,1]},{__d:[2002,"张飞",2,0,"",0,2,"zhangfei","",1,-30,"","","",135,200,0,3,"",203,0,0,0,0,0,0,0,0,0,0,0,0,"",0,100,2001,1]},{__d:[2003,"刘备",2,0,"",0,2,"liubei","",1,-30,"","","",135,200,0,3,"",201,0,0,0,0,0,0,0,0,0,0,0,0,"",0,100,2001,1]},{__d:[2004,"张角",2,0,"",0,2,"zhangjiao","",1,-28,"","","",135,200,0,3,"",205,0,0,0,0,0,0,0,0,0,0,0,0,"",0,100,2001,1]},{__d:[2005,"典韦",2,0,"",0,2,"dianwei","",1,-112,"","","",135,200,0,3,"",204,0,0,0,0,0,0,0,0,0,0,0,0,"",0,100,2001,1]},{__d:[3001,"农民",2,0,"",0,2,"liukou","",1,-18,"","","",100,100,0,1,"",101,0,0,0,0,0,0,0,0,0,0,0,0,"",0,20,2,1e3]},{__d:[3011,"地痞",2,0,"",0,2,"dipi","",1,-12,"","","",120,120,0,1,"",102,0,0,0,0,0,0,0,0,0,0,0,0,"",0,20,2,50]},{__d:[3021,"老头",2,0,"",0,2,"yezhu","",1,-15,"","","",90,90,0,1,"",103,0,0,0,0,0,0,0,0,0,0,0,0,"",0,20,2,80]},{__d:[4001,"村长家",3,0,"",0,3,"cunzhangjia010001","",1,0,"","","",0,0,0,1,"",0,0,0,0,0,0,0,0,0,0,0,0,0,"1001;10000",1,0,0,0]},{__d:[4101,"民居",3,0,"",0,3,"jiuguan0001","",1,0,"","","",0,0,0,1,"",0,0,0,0,0,0,0,0,0,0,0,0,0,"1001;5000#1002;5000",3,0,0,0]},{__d:[4201,"酒楼",3,0,"",0,3,"jiuguan0001","",1,0,"","","",0,0,0,1,"",0,0,0,0,0,0,0,0,0,0,0,0,0,"1002;10000",1,0,0,0]}];e.exports={head:n,data:i},cc._RFpop()},{}],monster_value_csv:[function(t,e,a){"use strict";cc._RFpush(e,"da5fcXBquFCj76k5SuhA3ab","monster_value_csv");var n={monster_id:0,name:1,initial_output:2,growth_output:3,initial_attack:4,growth_attack:5,initial_defense:6,growth_defense:7},i=[{__d:[2001,"关二习",1e3,100,150,15,100,10]},{__d:[3001,"农民",2e3,200,200,20,120,12]},{__d:[3011,"地痞",3e3,300,250,25,140,14]},{__d:[3021,"老头",4e3,400,300,30,160,16]}];e.exports={head:n,data:i},cc._RFpop()},{}],skill_csv:[function(t,e,a){"use strict";cc._RFpush(e,"7c423ICH9JBjpOdmgQAQ3nS","skill_csv");var n={id:0,name:1,type:2,fire_pos_type:3,distance:4,fire_effect:5,hit_effect:6,fire_sound:7,hit_sound:8,fire_say:9,repel_pro:10,skill_score:11,des:12,cd:13,public_cd:14,target_type:15,fan_angle:16,sector_radius:17,dis_range:18,coea:19,coeb:20,power_duration:21},i=[{__d:[101,"小兵攻击1s",1,2,50,"liukou_attack_effect","","","","大宝剑!",0,"","",1e3,0,2,0,0,0,1,0,0]},{__d:[102,"小兵攻击0.7s",1,2,50,"dipi_attack_effect","","","","UFO!",0,"","",700,0,2,0,0,0,1,0,0]},{__d:[103,"小兵攻击0.5s",1,2,50,"liukou_attack_effect","","","","仙人采葡萄!",0,"","",500,0,2,0,0,0,1,0,0]},{__d:[201,"刘备技能",3,1,200,"liubei_attack_effect","","","","吃我一刀!#小子休走！",2e3,"","",4e3,0,2,20,30,0,1,0,200]},{__d:[202,"关羽技能",3,1,200,"guanyu_attack_effect","","","","吃我一刀!#小子休走！",2e3,"","",3e3,0,2,20,30,0,1,0,200]},{__d:[203,"张飞技能",3,1,200,"zhangfei_attack_effect","","","","吃我一刀!#小子休走！",2e3,"","",2e3,0,2,20,30,0,1,0,200]},{__d:[204,"典韦技能",3,1,200,"dianwei_attack_effect","","","","吃我一刀!#小子休走！",2e3,"","",2500,0,2,20,30,0,1,0,200]},{__d:[205,"张角技能",3,2,200,"zhangjiao_attack_effect","","","","吃我一刀!#小子休走！",2e3,"","",3500,0,2,20,30,0,1,0,200]}];e.exports={head:n,data:i},cc._RFpop()},{}],soldier_csv:[function(t,e,a){"use strict";cc._RFpush(e,"1e3f5drZJRG4ID4ZtW640qM","soldier_csv");var n={item_id:0,soldier_id:1,monster_id:2,soldier_name:3,need_commander:4,per_output:5,per_attack:6,per_defense:7},i=[{__d:[3001,3001,3001,"农民",4,1e3,8e3,2e3]},{__d:[3002,3002,3001,"农民",4,1500,8e3,2e3]},{__d:[3003,3003,3001,"农民",4,2e3,8e3,2e3]},{__d:[3004,3004,3001,"农民",4,2500,8e3,2e3]},{__d:[3011,3011,3011,"地痞",6,1500,9600,2e3]},{__d:[3012,3012,3011,"地痞",6,1500,9600,2400]},{__d:[3013,3013,3011,"地痞",6,1500,9600,2800]},{__d:[3014,3014,3011,"地痞",6,1500,9600,3200]},{__d:[3021,3021,3021,"老头",4,800,6400,2400]},{__d:[3022,3022,3021,"老头",4,1e3,6400,2500]},{__d:[3023,3023,3021,"老头",4,1200,6400,2600]},{__d:[3024,3024,3021,"老头",4,1400,6400,2700]}];e.exports={head:n,data:i},cc._RFpop()},{}],status_csv:[function(t,e,a){"use strict";cc._RFpush(e,"9f54doz3bdLIYuclAqu4GUS","status_csv");var n={id:0,name:1,release_music:2,effect_name:3,is_pass:4,effect_pos:5,time:6,max_time:7,interval:8,type:9,percentage:10,value:11,say:12,particle:13},i=[{__d:[1,"肉回血","","hj_buffjiaxue",0,2,1e3,0,600,11,"1000",0,"",0]},{__d:[2,"馊水降攻击","","hj_buffzhongdu",1,2,1e4,2e4,0,2,"-2000",0,"",0]},{__d:[3,"馊水降防御","","",1,2,1e4,2e4,0,3,"",-5,"",0]}];e.exports={head:n,data:i},cc._RFpop()},{}],status:[function(t,e,a){"use strict";cc._RFpush(e,"32a39LnTutHCJ+xpr/vwWdZ","status");var n={id:0,name:1,release_music:2,effect_name:3,effect_pos:4,time:5,max_time:6,interval:7,type:8,per_speed:9,per_hurt:10,hurt:11,per_addhp:12,per_output:13,output:14,per_attack:15,attack:16,per_defense:17,defense:18,say:19,particle:20},i=[{__d:[1,"肉回血","","",2,1e3,0,600,11,0,1e3,0,0,0,0,0,0,0,0,"",0]},{__d:[2,"馊水降血上限","","",2,1e4,2e4,0,1,0,0,0,0,2e3,0,0,0,0,0,"",0]},{__d:[3,"馊水降攻击","","",2,1e4,2e4,0,2,0,0,0,0,0,0,2e3,0,0,0,"",0]},{__d:[4,"馊水降防御","","",2,1e4,2e4,0,3,0,0,0,0,0,0,0,0,2e3,0,"",0]}];e.exports={head:n,data:i},cc._RFpop()},{}]},{},["TouchPoint","house_csv","OnTouchCtrl","BattleBuffManager","BattleChild","BattleHouse","BattleMain","soldier_csv","enemyteam_csv","GameOver","WarnningNode","HelloWorld","status","BattleSkillManager","BattleDrop","house_open_csv","BattleBubble","HouseHurtEffect","BattlePlayer","item_csv","BattleCtrl","general_csv","lead_exp_csv","skill_csv","ActionHelper","status_csv","GameStart","MapManager","MathHelper","BattleUnitBase","BattlePopTalk","lead_csv","Effect","Init","BattleUnitDataManager","monster_value_csv","monster_csv","dropobject_csv","CsvLoader","BattleContactManager","Types","BattleMoveManager","BattleGeneral"]);